!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define(["vue"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).vue3CountryIntl=t(e.Vue)}(this,(function(e){"use strict";const t={offset(e){let t={top:0,left:0},a=e.offsetParent;for(t.top=e.offsetTop,t.left=e.offsetLeft;null!=a;)t.top+=a.offsetTop,t.left+=a.offsetLeft,a=a.offsetParent;return a=null,t},elementContains(e,t){if(!e||!t)return!1;if(e===t)return!1;if("function"==typeof e.contains)return e.contains(t);for(;;){if(!t)return!1;if(t===e)return!0;t=t.parentNode}return!1},bindEvent(e,t,a){document.addEventListener?(e.addEventListener(t,a,!1),e.addEventListener(t,a,!1)):window.attachEvent&&(e.attachEvent("on"+t,a),e.attachEvent("on"+t,a))},unBindEvent(e,t,a){e&&(document.removeEventListener?(e.removeEventListener(t,a,!1),e.removeEventListener(t,a,!1)):window.detachEvent&&(e.detachEvent("on"+t,a),e.detachEvent("on"+t,a)))},getElementRect(e){var t=e.getBoundingClientRect(),a=document.documentElement.clientTop?document.documentElement.clientTop:0,o=document.documentElement.clientLeft?document.documentElement.clientLeft:0;return{top:t.top-a,bottom:t.bottom-a,left:t.left-o,right:t.right-o}},termianl(){let e=navigator.userAgent;return{android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}},getStyle(e,t){if(!e||!e.nodeName)return void console.error("ele 必须是一个dom元素");if(!t)return void console.error("cssAttribute 必须是一个字符串");let a="";return window.getComputedStyle?a=window.getComputedStyle(e,null)[t]:e.currentStyle&&(a=e.currentStyle[t]),isNaN(parseFloat(a))?a:parseFloat(a)},getIndex(e,t){if(!e||0==e.length||!t||"function"!=typeof t)return-1;if(e.findIndex)return e.findIndex(t);let a=e.length,o=0,n=-1;for(;o<a;o++)if(!0===t(e[o],n,e)){n=o;break}return n},addClass(e,t){if(!e||!t||1!==e.nodeType)return;let a=t.split(" ");if(e.classList){for(var o=0,n=a.length;o<n;o++){let t=a[o];e.classList.contains(t)||e.classList.add(t)}return e}{let o=e.className&&e.className.length>0?e.className.split(" "):[];return 0===o.length?void(e.className=t):(Array.prototype.push.apply(o,a),o=tool.arrayNoReapeat(o),e.className=o.join(" "),e)}},eleIsIntoView(e){let a=t.scrollTop(),o=0,n=t.getScrollParent(e);t.getScrollParent(e).nodeName,n&&"HTML"!=n.nodeName&&(o=t.scrollTop(e));let l=t.offset(e),i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,r=l.top-a-o,s=r+e.offsetHeight;return r>0&&r<i&&s>0&&s<i},scrollTop(e){if(e){for(var a=e.parentElement,o=e.scrollTop||0;null!=a;){if(t.eleHasScroll(a))return a.scrollTop;a=a.parentElement}return o}return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},eleHasScroll(e){if(!e instanceof HTMLElement)return!1;if(e.scrollTop>0)return!0;{e.scrollTop++;const t=e.scrollTop;return t&&(e.scrollTop=0),t>0}},getScrollParent(e){if(e)for(var a=e.parentElement;null!=a;){if(t.eleHasScroll(a))return a;a=a.parentElement}}},a=["阿富汗","阿尔巴尼亚","阿尔及利亚","美属萨摩亚群岛","安道尔","安哥拉共和国","安圭拉","安提瓜岛","阿根廷","亚美尼亚","阿鲁巴","澳大利亚","奥地利共和国","阿塞拜疆共和国","巴哈马国","巴林王国","孟加拉人民共和国","巴巴多斯","白俄罗斯共和国","比利时王国 (België)","伯利兹","贝宁共和国 (Bénin)","百慕大群岛","不丹王国","玻利维亚国","波斯尼亚和黑塞哥维那","博茨瓦纳","巴西联邦共和国","英属印度洋领地","英属维尔京群岛","文莱达鲁萨兰国","保加利亚共和国","布基纳法索","布隆迪共和国","柬埔寨王国","喀麦隆共和国","加拿大","佛得角共和国","荷兰王国","开曼群岛","中非共和国","乍得共和国","智利共和国","中国","圣诞岛","科科斯群岛","哥伦比亚共和国","科摩罗联盟","刚果民主共和国","刚果共和国","库克群岛","哥斯达黎加共和国","科特迪瓦","克罗地亚共和国","古巴共和国","库拉索","塞浦路斯","捷克共和国","丹麦","吉布提共和国","多米尼克国","多米尼加共和国","厄瓜多尔","埃及","萨尔瓦","赤道几内亚","厄立特里亚","爱沙尼亚共和国","埃塞俄比亚","马尔维纳斯群岛","法罗群岛","斐济共和国","芬兰","法国","法属圭亚那","法属波利尼西亚","加蓬","冈比亚","格鲁吉亚","德国","加纳","直布罗陀","希腊","格陵兰","格林纳达","瓜德罗普岛","关岛","危地马拉","根西","几内亚","几内亚比绍共和国","圭亚那","海地","洪都拉斯","中国香港","匈牙利","冰岛","印度","印度尼西亚","地拉那","伊拉克共和国","爱尔兰","马恩岛","以色列国","意大利","牙买加","日本","泽西","约旦哈希姆王国","哈萨克斯坦共和国","肯尼亚","基里巴斯","科索沃","科威特国","吉尔吉斯共和国","老挝人民民主共和国","拉脱维亚共和国","黎巴嫩共和国","莱索托","利比里亚","利比亚","列支敦士登","立陶宛共和国","卢森堡","中國澳門","马其顿","马达加斯加共和国","马拉维","马来西亚","马尔代夫","马里","马耳他","马绍尔群岛共和国","马提尼克岛","毛里塔尼亚","毛里求斯","马约特","墨西哥","密克罗尼西亚","摩尔多瓦共和国","摩纳哥","蒙古","黑山共和国","蒙特塞拉特岛","摩洛哥","莫桑比克","缅甸联邦共和国","纳米比亚","瑙鲁","尼泊尔","荷兰","新喀里多尼亚","新西兰","尼加拉瓜","尼日尔","尼日利亚","纽埃","诺福克岛","North Korea (조선 민주주의 인민 공화국)","北马里亚纳群岛","挪威","阿曼苏丹国","巴基斯坦","帕劳共和国","巴勒斯坦国","巴拿马","巴布亚新几内亚独立国","巴拉圭","秘鲁","菲律宾共和国","波兰","葡萄牙","波多黎各岛","卡塔尔国","留尼旺岛","罗马尼亚","俄罗斯","卢旺达","圣巴托洛缪岛","圣海伦娜岛","圣基茨和尼维斯联邦","圣卢西亚","圣马丁岛","圣皮埃尔岛和密克隆岛","圣文森特和格林纳丁斯","西萨摩亚","圣马利诺","São Tomé and Príncipe (São Tomé e Príncipe)","沙特阿拉伯王国","塞内加尔","塞尔维亚共和国","塞舌尔","塞拉利昂共和国","新加坡","圣马丁岛","斯洛伐克共和国","斯洛文尼亚","所罗门群岛","索马里","南非","韩国","南苏丹共和国","西班牙","斯里兰卡","苏丹","苏里南","斯瓦尔巴群岛","斯威士兰","瑞典","瑞士","阿拉伯叙利亚共和国","中国台灣","塔吉克斯坦共和国","坦桑尼亚","泰国","东帝汶民主共和国","多哥","托克劳群岛","汤加","特立尼达和多巴哥共和国","突尼斯","土耳其","土库曼斯坦","特克斯和凯科斯群岛","图瓦卢","美属维尔京群岛","乌干达共和国","乌克兰","阿拉伯联合酋长国","大不列颠联合王国","美国","乌拉圭","乌兹别克斯坦共和国","瓦努阿图","梵蒂冈","委内瑞拉","越南","瓦利斯群岛和富图纳群岛","阿拉伯撒哈拉民主共和国","也门共和国","赞比亚","津巴布韦","奥兰群岛"];for(var o=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Australia","au","61",0],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1246"],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61",2],["Cocos (Keeling) Islands","cc","61",1],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (República Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guernsey","gg","44",1],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (中国香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1",4,["876","658"]],["Japan (日本)","jp","81"],["Jersey","je","44",3],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (中國澳門)","mo","853"],["Macedonia (FYROM) (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (‫المغرب‬‎)","ma","212",0],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47",0],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262",0],["Romania (România)","ro","40"],["Russia (Россия)","ru","7",0],["Rwanda","rw","250"],["Saint Barthélemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie française))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (中国台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212",1],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Åland Islands","ax","358",1]],n=0;n<o.length;n++){var l=o[n];o[n]={name:l[0],nameCN:a[n],iso2:l[1],dialCode:l[2],priority:l[3]||0,areaCodes:l[4]||null}}const i=o,r={name:"CountryList",props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"phone"},iso2:{type:String,default:""},listZIndex:{type:Number,default:0},maxHeight:{type:Number,default:0},searchText:{type:[String,Number],default:""},showAreaCode:{type:Boolean,default:!0},selectedText:{type:String,default:"Selected"},showSelectedText:{type:Boolean,default:!0},searchAble:{type:Boolean,default:!0},disableCountry:{type:[String,Array],default:()=>[]},onlyCountry:{type:[String,Array],default:()=>[]},noDataText:{type:String,default:"未找到任何数据！"},useChinese:{type:Boolean,default:!1}},emits:["update:modelValue","onChange"],setup(a,o){let n=e.reactive({item:{}}),l=e.computed((()=>{let e=a.searchText||"",o=i,n="string"==typeof a.disableCountry?a.disableCountry.split(","):a.disableCountry,l="string"==typeof a.onlyCountry?a.onlyCountry.split(","):a.onlyCountry;return l.length>0&&(o=o.filter((e=>t.getIndex(l,(t=>{let a=t+"";return"+"===a.charAt(0)&&(a=a.replace("+","")),e.name===t||e.nameCN===t||e.dialCode===a||e.iso2===t}))>-1))),n.length>0&&(o=o.filter((e=>-1===t.getIndex(n,(t=>{let a=t+"";return"+"===a.charAt(0)&&(a=a.replace("+","")),e.name===t||e.nameCN===t||e.dialCode===a||e.iso2===t}))))),a.searchAble&&0!==e.length?(e=e.replace("+","\\+"),o=o.filter((t=>{let a=new RegExp(e,"gi"),o=a.test(t.name||t.nameCN),n=a.test(t.dialCode),l=a.test(t.iso2);return o||n||l})),o):o})),r=()=>{let e=a.modelValue;if(0==(e+"").length)return{};let t="phone"===a.type.toLowerCase();"+"===(e+"").charAt(0)&&(e=e.substr(1));let o=l.value.filter((o=>t?a.iso2?o.iso2==this.iso2:o.dialCode==e:o.iso2==e));return o=o&&0!==o.length&&o[0]||{},o};return e.watch((()=>a.modelValue),(()=>{let e=r();e&&e!==n.item&&(n.item=e,o.emit("onChange",e,"phone"===a.type.toLowerCase()?e.dialCode||"":e.iso2||""))}),{immediate:!0}),e.onMounted((()=>{"phone"==a.type&&0==(a.iso2+"").length&&console.warn("当type=phone时最好传递iso2属性，否则当区号代码为212或358时会出现选择不正确问题！")})),{selected:n,countryList:l,countryItemClickEvt:function(e){(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0;let t,i=e.target;if(a.justRead)return;for(;"LI"!==i.nodeName;)i=i.parentElement;e.currentTarget;let r=i.getAttribute("data-index");if(t=l.value[r],!t)return;n.item=t;let s="phone"===a.type.toLowerCase();o.emit("update:modelValue",s?t.dialCode||"":t.iso2||""),o.emit("onChange",t,s?t.dialCode||"":t.iso2||"")}}}},s={class:"vue-country-name"},u={class:"vue-country-no-data"};r.render=function(t,a,o,n,l,i){return e.openBlock(),e.createBlock("div",{class:"vue-country-list-wrap",style:{"z-index":0!=o.listZIndex?o.listZIndex:"","max-height":o.maxHeight>0?o.maxHeight+"px":""}},[e.createVNode("ul",{class:"vue-country-list",onClick:a[1]||(a[1]=(...e)=>n.countryItemClickEvt&&n.countryItemClickEvt(...e))},[(e.openBlock(!0),e.createBlock(e.Fragment,null,e.renderList(n.countryList,((t,a)=>(e.openBlock(),e.createBlock("li",{class:["vue-country-item",{selected:t.iso2===n.selected.item.iso2}],key:t.iso2+a,"data-index":a,"data-iso":t.iso2},[e.createVNode("span",{class:["iti-flag",t.iso2]},null,2),e.createVNode("span",s,e.toDisplayString(o.useChinese?t.nameCN:t.name),1),e.withDirectives(e.createVNode("span",{class:"vue-country-areaCode"},"+"+e.toDisplayString(t.dialCode),513),[[e.vShow,o.showAreaCode]]),e.withDirectives(e.createVNode("span",{class:"selected-text"},e.toDisplayString(o.selectedText),513),[[e.vShow,o.showSelectedText]])],10,["data-index","data-iso"])))),128)),e.withDirectives(e.createVNode("li",u,[e.renderSlot(t.$slots,"vueCountryNoData",{},(()=>[e.createTextVNode(e.toDisplayString(o.noDataText),1)]))],512),[[e.vShow,0===n.countryList.length]])])],4)};const d={name:"SchemaInput",components:{"country-list":r},inheritAttrs:!1,props:{placeholder:{type:String,default:"请选择国家"},showAreaCode:{type:Boolean,default:!0},modelValue:{type:[String,Number],default:""},type:{type:String,default:"phone"},iso2:{type:String,default:""},searchAble:{type:Boolean,default:!0},listZIndex:{type:Number,default:0},showLabelImg:{type:Boolean,default:!0},onlyValue:{type:Boolean,default:!1},maxHeight:{type:Number,default:0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},selectedText:{type:String,default:"Selected"},showSelectedText:{type:Boolean,default:!0},disableCountry:{type:[String,Array],default:()=>[]},onlyCountry:{type:[String,Array],default:()=>[]},noDataText:{type:String,default:"未找到任何数据！"},iosMobileReadonly:{type:Boolean,default:!0},useChinese:{type:Boolean,default:!1},static:{type:Boolean,default:!1},transitionName:{type:String,default:"fade_in_up"}},emits:["update:modelValue","onChange"],setup(a,o){let n=e.reactive({item:{}}),l=e.ref(null),i=e.ref(null),r=e.computed((()=>{let e=n.item,t=a.useChinese?e.nameCN:e.name;return"phone"===a.type.toLowerCase()?a.onlyValue?"+"+e.dialCode:a.showAreaCode?t+"(+"+e.dialCode+")":t:a.onlyValue?e.iso2:t})),s=e.ref(""),u=e.ref(!1),d=e.ref(!1),c=e.ref(!0),p=e.ref(!1),m=e.ref(window.innerWidth),y=e.ref(a.modelValue),h=e.ref(null),f=e.ref(null),v=e.computed((()=>a.static||u.value));return e.watch(y,(e=>{y.value,a.modelValue!=e&&o.emit("update:modelValue",e)}),{immediate:!0}),e.watch((()=>a.modelValue),(e=>{y.value,y.value!=e&&(y.value=e)})),{id:e.ref("vue_country_intl-"+(window._vueCountryIntl_count++||1)),searchText:s,countryListVisible:v,inputFocused:d,listOnBottom:c,isIos:p,deviceWidth:m,schemaInputValue:y,inputWrap:l,countryList:i,viewText:r,selected:n,searchInput:h,vueCountryIntlWrapper:f,onCountryChange:e=>{e.iso2,n.item.iso2,e.iso2!==n.item.iso2&&(n.item=e,o.emit("onChange",e))},hide:()=>{if(a.disabled||a.readonly||a.static)return;let e=setTimeout((()=>{clearTimeout(e),s.value="",d.value=!1,u.value=!1,c.value=!0}),100)},show:()=>{if(!(a.disabled||a.readonly||a.static)){if(d.value=!0,u.value=!0,s.value="",!a.readonly){let e=setTimeout((()=>{clearTimeout(e),h.value.focus()}),0)}e.nextTick((()=>{var a;a=i.value.$el,t.eleIsIntoView(a)?c.value=!0:(a.style.opacity=0,c.value=!1,e.nextTick((()=>{a.style.opacity=null,t.eleIsIntoView(a)||(c.value=!0)})))}))}}}}},c={class:"country-intl-label"},p=e.createVNode("label",{class:"dropdown-flag"},null,-1),m=e.createVNode("div",{class:"prevent-click"},null,-1),y={slot:"vueCountryNoData"};d.render=function(t,a,o,n,l,i){const r=e.resolveComponent("country-list");return e.openBlock(),e.createBlock("div",{class:["vue-country-intl-input",{focused:t.inputFocused,"list-on-bottom":t.listOnBottom,"list-on-top":!t.listOnBottom,"vue-country-disabled":t.disabled,"vue-country-readonly":t.readonly,static:t.static}],ref:"vueCountryIntlWrapper"},[e.createVNode("div",{class:["country-intl-input-wrap",{"no-data":!t.selected.item.name,"has-selected":t.selected.item.name}],ref:"inputWrap",onClick:a[3]||(a[3]=(...e)=>t.show&&t.show(...e))},[e.withDirectives(e.createVNode("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>t.searchText=e),class:"country-intl-input",autocomplete:"off",ref:"searchInput",onBlur:a[2]||(a[2]=(...e)=>t.hide&&t.hide(...e)),"aria-readonly":t.readonly,"aria-disabled":t.disabled,id:t.id+"-input",placeholder:t.placeholder,readonly:t.isIos&&t.deviceWidth<992&&t.iosMobileReadonly},null,40,["aria-readonly","aria-disabled","id","placeholder","readonly"]),[[e.vModelText,t.searchText]]),e.createVNode("label",c,[e.withDirectives(e.createVNode("span",{class:["iti-flag",t.selected.item.iso2]},null,2),[[e.vShow,t.showLabelImg]]),e.createVNode("span",null,e.toDisplayString(t.viewText),1)]),p,m],2),e.createVNode(e.Transition,{name:t.transitionName},{default:e.withCtx((()=>[e.withDirectives(e.createVNode(r,{ref:"countryList",modelValue:t.schemaInputValue,"onUpdate:modelValue":a[4]||(a[4]=e=>t.schemaInputValue=e),"search-text":t.searchText,selectedText:t.selectedText,"show-selected-text":t.showSelectedText,type:t.type,iso2:t.iso2,"search-able":t.searchAble,"disable-country":t.disableCountry,"only-country":t.onlyCountry,"no-data-text":t.noDataText,"use-chinese":t.useChinese,onOnChange:t.onCountryChange},{default:e.withCtx((()=>[e.createVNode("template",y,[e.renderSlot(t.$slots,"vueCountryNoData")])])),_:3},8,["modelValue","search-text","selectedText","show-selected-text","type","iso2","search-able","disable-country","only-country","no-data-text","use-chinese","onOnChange"]),[[e.vShow,t.countryListVisible]])])),_:1},8,["name"])],2)};const h={name:"SchemaPopover",components:{"country-list":r},inheritAttrs:!1,props:{visible:{type:Boolean,default:!1},showAreaCode:{type:Boolean,default:!0},modelValue:{type:[String,Number],default:""},type:{type:String,default:"phone"},iso2:{type:String,default:""},searchAble:{type:Boolean,default:!0},showLabelImg:{type:Boolean,default:!0},onlyValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},selectedText:{type:String,default:"Selected"},showSelectedText:{type:Boolean,default:!0},searchInputPlaceholder:{type:String,default:"输入国家名称、区号搜索"},popoverClass:{type:String,default:""},disableCountry:{type:[String,Array],default:()=>[]},onlyCountry:{type:[String,Array],default:()=>[]},noDataText:{type:String,default:"未找到任何数据！"},useChinese:{type:Boolean,default:!1},offset:{type:Array,default:()=>[0,10]},rightOffset:{type:Number,default:20},transitionName:{type:String,default:"zoom_in"}},emits:["update:modelValue","onChange","update:visible"],setup(a,o){let n=e.reactive({item:{}}),l=e.ref(""),i=e.ref(!1),r=e.ref(!0),s=e.ref(a.modelValue),u=e.ref(null),d=e.ref(null),c=e.ref(!1),p=e.reactive({left:"-100%",top:"-100%"}),m=e.ref(null),y=(e,a)=>{e-=t.scrollTop();let o=d.value.offsetHeight+e,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return d.value.offsetHeight,e>0&&e<n&&o>0&&o<n},h=()=>{a.disabled||a.readonly||e.nextTick((()=>{let e=u.value,o=t.offset(e),n=e.offsetHeight,l=t.getScrollParent(e),i=0;t.scrollTop(),l&&"HTML"!=l.nodeName&&(i=i=t.scrollTop(e));let s=0,c=o.left+a.offset[0];if(s=o.top+n+a.offset[1]-i,y(s))r.value=!0;else{let e=o.top-d.value.offsetHeight-a.offset[1]-i;y(e)?(s=e,r.value=!1):r.value=!0}p.top=s+"px",p.left=c+"px";let h=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;m.value=h<992?`calc(100vw - ${c}px - ${a.rightOffset}px)`:null,m.value}))},f=()=>{o.emit("update:visible",!1)};e.watch(s,(e=>{s.value,a.modelValue!=e&&o.emit("update:modelValue",e)}),{immediate:!0}),e.watch((()=>a.modelValue),(e=>{s.value,s.value!=e&&(s.value=e)})),e.watch((()=>a.visible),(e=>{e&&h()}));let v=function(e){let a=(e=e||window.event).target;t.elementContains(u.value,a)||t.elementContains(d.value,a)||f()};return e.onMounted((()=>{t.bindEvent(document.body,"click",v)})),{id:e.ref("vue_country_intl-"+(window._vueCountryIntl_count++||2)),selected:n,searchText:l,countryListShow:i,listOnBottom:r,schemaPopoverValue:s,popoverContainer:u,popover:d,popoverVisible:c,popoverPosition:p,popoverMaxWidth:m,onCountryChange:e=>{e.iso2,n.item.iso2,e.iso2!==n.item.iso2&&(n.item=e,o.emit("onChange",e),f())},show:h,hide:f}}},f={class:"search-input-box"},v={slot:"vueCountryNoData"},g=e.createVNode("div",{class:"vue-country-intl-popover-arrow"},null,-1);h.render=function(t,a,o,n,l,i){const r=e.resolveComponent("country-list");return e.openBlock(),e.createBlock("div",{class:"vue-country-intl-schema-popover",ref:"popoverContainer",id:t.id},[e.renderSlot(t.$slots,"default"),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(e.Transition,{name:t.transitionName},{default:e.withCtx((()=>[e.withDirectives(e.createVNode("div",{class:["vue-country-intl-popover",[{"list-on-top":!t.listOnBottom,"list-on-bottom":t.listOnBottom},t.popoverClass]],ref:"popover",style:{left:t.popoverPosition.left,top:t.popoverPosition.top,maxWidth:t.popoverMaxWidth}},[e.createVNode("div",f,[e.withDirectives(e.createVNode("input",{type:"text",class:"search-input",autocomplete:"off","onUpdate:modelValue":a[1]||(a[1]=e=>t.searchText=e),placeholder:t.searchInputPlaceholder},null,8,["placeholder"]),[[e.vModelText,t.searchText]])]),e.createVNode(r,{ref:"countryList",modelValue:t.schemaPopoverValue,"onUpdate:modelValue":a[2]||(a[2]=e=>t.schemaPopoverValue=e),"search-text":t.searchText,selectedText:t.selectedText,"show-selected-text":t.showSelectedText,type:t.type,iso2:t.iso2,"search-able":t.searchAble,"disable-country":t.disableCountry,"only-country":t.onlyCountry,"no-data-text":t.noDataText,"use-chinese":t.useChinese,onOnChange:t.onCountryChange},{default:e.withCtx((()=>[e.createVNode("template",v,[e.renderSlot(t.$slots,"vueCountryNoData")])])),_:3},8,["modelValue","search-text","selectedText","show-selected-text","type","iso2","search-able","disable-country","only-country","no-data-text","use-chinese","onOnChange"]),g],6),[[e.vShow,t.visible]])])),_:1},8,["name"])]))],8,["id"])};const b={name:"SchemaModal",components:{"country-list":r},inheritAttrs:!1,props:{showAreaCode:{type:Boolean,default:!0},modelValue:{type:[String,Number],default:""},type:{type:String,default:"phone"},iso2:{type:String,default:""},searchAble:{type:Boolean,default:!0},listZIndex:{type:Number,default:0},maxHeight:{type:Number,default:0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},selectedText:{type:String,default:"Selected"},showSelectedText:{type:Boolean,default:!0},searchInputPlaceholder:{type:String,default:"输入国家名称、区号搜索"},cancelText:{type:String,default:"取消"},visible:{type:Boolean,default:!1},modalClass:{type:String,default:""},disableCountry:{type:[String,Array],default:()=>[]},onlyCountry:{type:[String,Array],default:()=>[]},noDataText:{type:String,default:"未找到任何数据！"},useChinese:{type:Boolean,default:!1},transitionName:{type:String,default:"fade"}},emits:["update:modelValue","onChange","update:visible"],setup(t,a){let o=e.reactive({item:{}}),n=e.ref(""),l=e.ref(t.modelValue),i=e.ref(t.visible),r=e.ref(!1),s=e.ref(null),u=()=>{let e=document.body.classList;e.contains("lock-scroll")||e.add("lock-scroll"),r.value||(r.value=!0),i.value=!0,a.emit("update:visible",!0)},d=()=>{let e=document.body.classList,t=setTimeout((()=>{clearTimeout(t),e.contains("lock-scroll")&&e.remove("lock-scroll"),i.value=!1,n.value="",a.emit("update:visible",!1)}),100)};return e.watch(l,(e=>{l.value,t.modelValue!=e&&a.emit("update:modelValue",e)}),{immediate:!0}),e.watch((()=>t.modelValue),(e=>{l.value,l.value!=e&&(l.value=e)})),e.watch((()=>t.visible),(e=>{e!==i.value&&(e?u():d())}),{immediate:!0}),e.onBeforeUnmount((()=>{d()})),{id:e.ref("vue_country_intl-"+window._vueCountryIntl_count++),selected:o,searchText:n,schemaModalValue:l,modalVisible:i,countryListVisible:r,intlModal:s,onCountryChange:e=>{e.iso2,o.item.iso2,e.iso2!==o.item.iso2&&(o.item=e,a.emit("onChange",e),d())},show:u,hide:d}}},C={class:"country-modal-content"},S={class:"country-modal-search-box"},w={class:"modal-search-wrap"},x={slot:"vueCountryNoData"};b.render=function(t,a,o,n,l,i){const r=e.resolveComponent("country-list");return e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(e.Transition,{name:t.transitionName},{default:e.withCtx((()=>[e.withDirectives(e.createVNode("div",{class:["vue-country-intl-modal",t.modalClass],ref:"intlModal",style:{zIndex:0!=t.listZIndex?t.listZIndex:""}},[e.createVNode("div",C,[e.createVNode("div",S,[e.createVNode("div",w,[e.withDirectives(e.createVNode("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>t.searchText=e),autocomplete:"off",class:"country-modal-search-input",placeholder:t.searchInputPlaceholder},null,8,["placeholder"]),[[e.vModelText,t.searchText]]),e.createVNode("span",{class:"country-modal-search-cancel",onClick:a[2]||(a[2]=(...e)=>t.hide&&t.hide(...e))},e.toDisplayString(t.cancelText),1)])]),e.withDirectives(e.createVNode(r,{ref:"countryList",modelValue:t.schemaModalValue,"onUpdate:modelValue":a[3]||(a[3]=e=>t.schemaModalValue=e),"search-text":t.searchText,selectedText:t.selectedText,"show-selected-text":t.showSelectedText,type:t.type,iso2:t.iso2,"search-able":t.searchAble,"disable-country":t.disableCountry,"only-country":t.onlyCountry,"no-data-text":t.noDataText,"use-chinese":t.useChinese,onOnChange:t.onCountryChange},{default:e.withCtx((()=>[e.createVNode("template",x,[e.renderSlot(t.$slots,"vueCountryNoData")])])),_:3},8,["modelValue","search-text","selectedText","show-selected-text","type","iso2","search-able","disable-country","only-country","no-data-text","use-chinese","onOnChange"]),[[e.vShow,t.countryListVisible]])])],6),[[e.vShow,t.modalVisible]])])),_:1},8,["name"])])};const V={name:"Vue3CountryIntl",components:{"schema-input":d,"schema-popover":h,"schema-modal":b},props:{schema:{type:String,default:"input"},placeholder:{type:String,default:"请选择国家"},showAreaCode:{type:Boolean,default:!0},modelValue:{type:[String,Number],default:""},type:{type:String,default:"phone"},iso2:{type:String,default:""},searchAble:{type:Boolean,default:!0},listZIndex:{type:Number,default:0},showLabelImg:{type:Boolean,default:!0},onlyValue:{type:Boolean,default:!1},maxHeight:{type:Number,default:0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},selectedText:{type:String,default:"Selected"},showSelectedText:{type:Boolean,default:!0},searchInputPlaceholder:{type:String,default:"输入国家名称、区号搜索"},offsetTop:{type:Number,default:10},popoverClass:{type:String,default:""},visible:{type:Boolean,default:!1},modalClass:{type:String,default:""},cancelText:{type:String,default:"取消"},disableCountry:{type:[String,Array],default:()=>[]},onlyCountry:{type:[String,Array],default:()=>[]},noDataText:{type:String,default:"未找到任何数据！"},iosMobileReadonly:{type:Boolean,default:!0},useChinese:{type:Boolean,default:!1},static:{type:Boolean,default:!1},offset:{type:Array,default:()=>[0,10]},rightOffset:{type:Number,default:20},transitionName:{type:[String,void 0],default:void 0}},emits:["update:modelValue","update:visible","onChange"],setup(a,o){window._vueCountryIntl_count||(window._vueCountryIntl_count=1);let n=e.reactive({item:{}}),l=e.ref(a.visible),i=e.ref(a.modelValue);e.watch(i,(e=>{a.modelValue!=e&&o.emit("update:modelValue",e)}),{immediate:!0}),e.watch((()=>a.modelValue),(e=>{i.value!=e&&(i.value=e)})),"modal"!=a.schema&&"popover"!=a.schema||(e.watch((()=>a.visible),(e=>{e!=l.value&&(l.value=e)})),e.watch(l,(e=>{e!=a.visible&&o.emit("update:visible",e)})));let r=e.ref(null),s=e.ref(null),u=e.ref(null);return e.onMounted((()=>{let e=document.body.classList;t.termianl().ios&&!e.contains("vue-country-ios")&&e.add("vue-country-ios")})),{onChange:e=>{n.item=e,o.emit("onChange",e)},version:e.ref("1.0.1"),getSelected:()=>n.item,modalVisible:l,countryIntlValue:i,show:()=>{let e;switch(a.schema){case"input":e=r;break;case"popover":e=s;break;case"modal":e=u}e.value.show()},hide:()=>{let e;switch(a.schema){case"input":e=r;break;case"popover":e=s;break;case"modal":e=u}e.value.hide()},schemaInput:r,schemaPopover:s,modalPopover:u}}},N={slot:"vueCountryNoData"},T={slot:"vueCountryNoData"},B={slot:"vueCountryNoData"};return V.render=function(t,a,o,n,l,i){const r=e.resolveComponent("schema-input"),s=e.resolveComponent("schema-popover"),u=e.resolveComponent("schema-modal");return"input"===t.schema?(e.openBlock(),e.createBlock(r,e.mergeProps({key:0,ref:"schemaInput"},t.$props,{modelValue:t.countryIntlValue,"onUpdate:modelValue":a[1]||(a[1]=e=>t.countryIntlValue=e),onOnChange:t.onChange}),{default:e.withCtx((()=>[e.createVNode("template",N,[e.renderSlot(t.$slots,"vueCountryNoData")])])),_:3},16,["modelValue","onOnChange"])):"popover"===t.schema?(e.openBlock(),e.createBlock(s,e.mergeProps({key:1,ref:"schemaPopover"},t.$props,{modelValue:t.countryIntlValue,"onUpdate:modelValue":a[2]||(a[2]=e=>t.countryIntlValue=e),visible:t.modalVisible,"onUpdate:visible":a[3]||(a[3]=e=>t.modalVisible=e),onOnChange:t.onChange}),{default:e.withCtx((()=>[e.renderSlot(t.$slots,"default"),e.createVNode("template",T,[e.renderSlot(t.$slots,"vueCountryNoData")])])),_:3},16,["modelValue","visible","onOnChange"])):"modal"===t.schema?(e.openBlock(),e.createBlock(u,e.mergeProps({key:2,ref:"schemaModal"},t.$props,{modelValue:t.countryIntlValue,"onUpdate:modelValue":a[4]||(a[4]=e=>t.countryIntlValue=e),visible:t.modalVisible,"onUpdate:visible":a[5]||(a[5]=e=>t.modalVisible=e),onOnChange:t.onChange}),{default:e.withCtx((()=>[e.createVNode("template",B,[e.renderSlot(t.$slots,"vueCountryNoData")])])),_:3},16,["modelValue","visible","onOnChange"])):e.createCommentVNode("",!0)},V}));
